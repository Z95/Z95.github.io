<!DOCTYPE html>
<head>
<title>Beep My Dashboard</title>
	<script type="text/javascript" src="js/flipcounter.js"></script>
	<link rel="stylesheet" type="text/css" href="css/counter.css" />
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/demo.css" />
	
</head>

<body>
<h1>Beep My Dashboard</h1>
<img id="logoImage" src="beepMeLogo.png">


	<div id="Users">
		<img id="userPic" src="user.png" height="110" width="110">
		<div id="wrapper">
			<div id="flip-counterUsers" class="flip-counter"></div>
		</div>
	</div>
	
	<div id="RidesDiv">
		<img id="hitchhikingPic" src="hitchhiking.png" height="110" width="110">	
		<div id = "rides">
			<div id="flip-counterRides" class="flip-counter"></div>
		</div>
	</div>
		
	<script type="text/javascript">
	//<![CDATA[

	$(function(){
		// Initialize a new counter
		var usersCounter = new flipCounter('flip-counterUsers', {value:0, pace:1500, auto:false});
		var ridesCounter = new flipCounter('flip-counterRides', {value:0, pace:1500, auto:false});
		
		//First initialize
		 $.ajax({
				type: "GET",
				url: "http://www.beepmeapp.com/bmaserver/web/vanity",
				dataType: "jsonp"
					}).then(function(data) {
					   usersCounter.setValue(data.message.totalUsers);
					   ridesCounter.setValue(data.message.totalRides);
		})
		
		//interval every 10 seconds
		setInterval(function(){
			 $.ajax({
				type: "GET",
				url: "http://www.beepmeapp.com/bmaserver/web/vanity",
				dataType: "jsonp"
					}).then(function(data) {
					   usersCounter.setValue(data.message.totalUsers);
					   ridesCounter.setValue(data.message.totalRides);
					   });
		},10000);
	});
	

	
	</script>
</body>